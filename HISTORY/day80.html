<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Guess The Singer Mystery: Ask questions about our mystery artist using the custom dropdown.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guess The Mystery Artist</title>
  <link rel="icon" href="/favicon.ico">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <style>
    /* General Reset */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Poppins', Arial, sans-serif;
      background: url(/images/bg-top.png) no-repeat;
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    /* Header */
    .header {
      background-color: #4682b4;
      padding: 30px;
      text-align: center;
      color: white;
    }
    .header .logo img {
      width: 20%;
      margin-bottom: 10px;
      height: auto;
      display: block;
      margin: 0 auto;
    }
    @media (max-width: 768px) {
      .header .logo img { width: 60%; }
    }
    /* Questions Progress Bar */
    .questions-progress-wrapper {
      width: 100%;
      max-width: 500px;
      margin: 20px auto;
      text-align: left;
    }
    .questions-progress-text {
      font-size: 1.1rem;
      color: #4682b4;
      margin-bottom: 5px;
    }
    @media (max-width: 768px) {
  .questions-progress-text{
padding: 8px;
  }
  }
    .questions-progress-container {
      width: 100%;
      background-color: #ddd;
      border-radius: 20px;
      overflow: hidden;
    }
    .questions-progress-bar {
      height: 30px;
      background-color: #4682b4;
      width: 0%;
      transition: width 0.3s ease;
    }
    @media (max-width: 768px) {
  .questions-progress-container{
margin-right: 10px;
  }
  }

    /* Main Section */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
      padding-top: calc(60px + 20px + 50px); /* navbar + gap + title height (adjust 50px as needed) */
      padding-bottom: 120px; /* Reserve enough space for hints */
    }
    .mystery-title {
      font-size: 1.6rem;
      margin-top: -100px;
      margin-bottom: 10px;
      line-height: 1.4;
      color: #4682b4;
      font-weight: bold;
    }
    @media (max-width: 768px) {
.mystery-title{
    margin-top:-70px;
}
  /* Reserve space at the top so main content doesn't get hidden by the fixed title,
     and reserve bottom space for the hints */
  .main {
    padding-top: calc(60px + 20px + 50px); /* navbar + gap + title height (adjust 50px as needed) */
    padding-bottom: 120px; /* Reserve enough space for hints */
  }
  
  /* Fix the hints container at the bottom so it doesn't push content upward */
  .hint-container {
    position: flex;
    bottom: 0;
    left: 50%;
    width: 100%;
    max-width: 500px;
    padding: 10px;
    z-index: 9;
  }
}

    /* Question Box & Custom Dropdown */
    .question-box {
      background: #fff;
      border: 2px solid #4682b4;
      border-radius: 10px;
      padding: 20px;
      width: 100%;
      max-width: 500px;
      margin-bottom: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .custom-dropdown {
      border: 1px solid #ddd;
      border-radius: 5px;
      cursor: pointer;
      padding: 10px;
      position: relative;
      background: #fff;
      margin-bottom: 15px;
      text-align: left;
    }
    .dropdown-header {
      font-size: 1.1rem;
      color: #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .dropdown-header i { transition: transform 0.3s; }
    .custom-dropdown.active .dropdown-header i {
      transform: rotate(180deg);
    }
    .dropdown-content {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      max-height: 300px;
      overflow-y: auto;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      z-index: 10;
      display: none;
    }
    .custom-dropdown.active .dropdown-content { display: block; }
    .dropdown-group {
      border-top: 1px solid #eee;
      padding: 5px 0;
    }
    .dropdown-group:first-of-type { border-top: none; }
    .dropdown-group summary {
      list-style: none;
      cursor: pointer;
      font-weight: bold;
      padding: 5px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .dropdown-group summary::-webkit-details-marker { display: none; }
    .dropdown-group summary .toggle-icon { transition: transform 0.3s; }
    details[open] summary .toggle-icon { transform: rotate(180deg); }
    .dropdown-item {
      padding: 8px 10px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .dropdown-item:hover { background: #f0f8ff; }
    .dropdown-item.asked { pointer-events: none; opacity: 0.5; }
    /* Button Group */
    .button-group {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      gap: 10px;
      margin-top: 10px;
    }
    /* We add a specific class for the Ask Question button */
    .cta-button {
        width: 200px;
height: 48px;
justify-content: center;
border-radius: 12px;
background-color: #4682b4;
box-shadow: 0px 4px 0px 0px #315f85;
color: #fff;
font-size: 18px;
font-weight: 400;
border: none;
outline: none;
margin-top: 5px;
    }
    @media (max-width: 768px) {
  .cta-button {
    height:48px; /* Adjust as needed */
    width: 45%;
    font-size: 16px;
  }
}
    .cta-button:hover {
      background: #315f85;
      transform: scale(1.05);
    }
    /* Answer Display */
    .answer-display {
      font-size: 1.2rem;
      color: #555;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 10px;
      background: #f9f9f9;
      width: 100%;
      max-width: 500px;
    }
    /* Hint Container & Boxes */
    .hint-container {
      width: 100%;
      max-width: 500px;
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: flex;
    bottom: 0;
    left: 50%;
    padding: 10px;
    z-index: 9;
    }
    .hint-box {
      font-size: 1.1rem;
      padding: 10px;
      border: 1px dashed #aaa;
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
    }
    .hint-box.locked {
      background: #f0f0f0;
      color: #777;
      cursor: not-allowed;
    }
    .hint-box.unlocked {
      background: #c8e6c9;
      color: #2e7d32;
    }
    .hint-box i { margin-right: 8px; }
    /* When hintBox-4 is locked, make it invisible */
    #hintBox-4.locked {
      display: none;
    }
    /* Modal for Guess Input */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
    }
    @media (max-width: 768px) {
  .modal {
    margin-top: 260px; /* Adjust as needed */
  }
}

    .modal-content {
      background: #fff;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 90%;
      max-width: 400px;
      border-radius: 10px;
      text-align: center;
      position: relative;
    }
    .modal-content input {
      width: 80%;
      padding: 10px;
      font-size: 1rem;
      margin: 10px 0;
    }
    .modal-content button {
      padding: 10px 20px;
      font-size: 1rem;
      margin: 5px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
        height: 40px;
        justify-content: center;
        border-radius: 12px;
        background-color: #4682b4;
        color: #fff;
        font-size: 18px;
        font-weight: 400;
        border: none;
        outline: none;
        margin-top: 5px;
    }
    .modal-content button:hover {
      transform: scale(1.05);
    }
    .modal-content .submit-btn {
      background: #4682b4;
      color: white;
    }
    .modal-content .cancel-btn {
      background: #aaa;
      color: white;
    }
    /* Autocomplete Styles for Guess Modal */
    .autocomplete-container {
  position: relative; /* Container as the reference point */
  width: 100%; /* Adjust as needed */
  margin: 0 auto;
}

#autocomplete-list {
  list-style: none;
  margin: 0;
  padding: 0;
  position: absolute;
  top: 100%; /* Places it right below the input */
  left: 0;
  width: 100%; /* Same width as the container */
  background: #fff;
  border: 1px solid #87cefa;
  border-radius: 8px;
  z-index: 9999;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  font-size: 16px;
  color: #315f85;
  max-height: 200px;
  overflow-y: auto;
  display: none;
}

#autocomplete-list.visible {
  display: block;
}

#autocomplete-list li {
  padding: 10px;
  cursor: pointer;
  border-bottom: 1px solid #eee;
}

#autocomplete-list li:last-child {
  border-bottom: none;
}

#autocomplete-list li:hover {
  background-color: #f0f8ff;
  color: #315f85;
}

    /* Celebration Popup */
    .celebration-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
      z-index: 2000;
      opacity: 0;
      transition: opacity 0.5s ease;
      display: none;
    }
    .celebration-popup.show {
      opacity: 1;
    }
    .celebration-popup .popup-content {
      background: white;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      position: relative;
    }
    .celebration-popup h2 {
      font-size: 2rem;
      color: #4682b4;
      margin-bottom: 15px;
    }
    .celebration-popup p {
      font-size: 1.2rem;
      margin: 10px 0;
      color: #333;
    }
    .celebration-popup .celebration-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }
    .celebration-popup .share-button {
      padding: 10px 20px;
      font-size: 1rem;
      font-weight: bold;
      color: white;
      background: rgb(19, 126, 19);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
    }
    .celebration-popup .discord-button {
      padding: 10px 20px;
      font-size: 1rem;
      font-weight: bold;
      color: white;
      background: #4682b4;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
    }
    .celebration-popup .share-button:hover {
      transform: scale(1.05);
    }
    .celebration-popup .discord-button:hover {
      transform: scale(1.05);
    }
    .celebration-popup .close-popup {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 1.5rem;
      font-weight: bold;
      color: #4682b4;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .celebration-popup .close-popup:hover {
      color: #ff4d4d;
    }
    /* Footer */
    .footer {
      background: #315f85;
      color: white;
      text-align: center;
      padding: 15px;
      font-size: 1rem;
    }
    .footer a {
      color: white;
      text-decoration: none;
      margin: 0 6px;
      font-size: 1rem;
      transition: color 0.3s ease;
    }
    .footer a:hover {
      color: #ff914d;
    }
    /* Navbar Styling */
.navbar {
display: flex;
justify-content: center;
gap: 20px;
background-color: #315f85;
padding: 15px 0;
font-weight: bold;
}

.navbar ul {
list-style: none;
display: flex;
font-size: 16px;
gap: 15px;
margin: 0;
padding: 0;
}

.navbar ul li a {
text-decoration: none;
color: white;
font-size: 1rem;
padding: 5px 10px;
border-radius: 5px;
transition: background-color 0.3s ease;
}

.navbar ul li a:hover {
background-color: #4682b4;
}

  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="logo">
      <img src="../images/SingerLogo.png" alt="Guess the Singer Logo" loading="lazy">
    </div>
    
  </header>
  <nav class="navbar">
    <ul>
        <li><a href="/index.html">Home</a></li>
        <li><a href="/calendar.html">History</a></li>
        <li><a href="/about.html">About</a></li>
    </ul>
</nav>
  <!-- Main Section -->
  <main class="main">
    <div class="mystery-title">Game #80</div>

    <!-- Questions Progress Bar -->
    <div class="questions-progress-wrapper">
      <div class="questions-progress-text" id="questionsProgressText">Questions Asked: 0 of 15</div>
      <div class="questions-progress-container">
        <div class="questions-progress-bar" id="questionsProgressBar"></div>
      </div>
    </div>
    
    <!-- Question Box with Custom Dropdown -->
    <div class="question-box">
      <div class="custom-dropdown" id="customDropdown">
        <div class="dropdown-header" id="dropdownHeader">
          Select a question... <i class="fas fa-chevron-down"></i>
        </div>
        <div class="dropdown-content" id="dropdownContent">
          <!-- General Questions Section -->
          <details class="dropdown-group">
            <summary>
                General Questions <i class="fas fa-chevron-down toggle-icon"></i>
            </summary>
            <div class="dropdown-item" data-value="is this a male artist?">Is this a male artist?</div>
            <div class="dropdown-item" data-value="is this a female artist?">Is this a female artist?</div>
            <div class="dropdown-item" data-value="are they still alive?">Are they still alive?</div>
            <div class="dropdown-item" data-value="are they over 30 years old?">Are they over 30 years old?</div>
            <div class="dropdown-item" data-value="are they over 40 years old?">Are they over 40 years old?</div>
            <div class="dropdown-item" data-value="are they over 50 years old?">Are they over 50 years old?</div>
            <div class="dropdown-item" data-value="debut before 2000?">Did they debut before 2000?</div>
            <div class="dropdown-item" data-value="debut before 2010?">Did they debut before 2010?</div>
            <div class="dropdown-item" data-value="debut before 2020?">Did they debut before 2020?</div>
            <div class="dropdown-item" data-value="album release in last 2 years?">Did they release an album within the last 2 years?</div>
            <div class="dropdown-item" data-value="are they touring?">Are they currently on tour?</div>
            <div class="dropdown-item" data-value="are they married?">Are they currently married?</div>
            <div class="dropdown-item" data-value="divorced?">Were they ever divorced?</div>
            <div class="dropdown-item" data-value="LGBTQ?">Do they identify as LGBTQ+?</div>
          </details>

                    <!-- Geographic Questions Section -->
                    <details class="dropdown-group">
                        <summary>Geographic Questions<i class="fas fa-chevron-down toggle-icon"></i></summary>
                        <div class="dropdown-item" data-value="are they from north america?">Were they born in North America?</div>
                        <div class="dropdown-item" data-value="are they from the united states?">Were they born in the United States?</div>
                        <div class="dropdown-item" data-value="are they from canada?">Were they born in Canada?</div>
                        <div class="dropdown-item" data-value="are they from europe?">Were they born in Europe?</div>
                        <div class="dropdown-item" data-value="are they from asia?">Were they born in Asia?</div>
                        <div class="dropdown-item" data-value="are they from south america?">Were they born in South America?</div>
                        <div class="dropdown-item" data-value="are they from australia?">Were they born in Australia?</div>
                        <div class="dropdown-item" data-value="are they from aftrica?">Were they born in Africa?</div>
                      </details>
                      
                      <!-- Background Questions Section -->
                      <details class="dropdown-group">
                          <summary>Background Questions<i class="fas fa-chevron-down toggle-icon"></i></summary>
                          <div class="dropdown-item" data-value="are they of african descent?">Are they of African descent?</div>
                          <div class="dropdown-item" data-value="are they of european descent?">Are they of European descent?</div>
                          <div class="dropdown-item" data-value="are they of latin american descent?">Are they of Latin America descent?</div>
                          <div class="dropdown-item" data-value="are they of asian descent?">Are they of Asian descent?</div>
                          <div class="dropdown-item" data-value="are they of mixed ethnicity?">Are they of mixed ethnicities?</div>
                        </details>
  
                      <!-- Music Style Questions Section -->
                      <details class="dropdown-group">
                          <summary>Music Style Questions<i class="fas fa-chevron-down toggle-icon"></i></summary>
                          <div class="dropdown-item" data-value="different languages?">Do they perform songs in different languages?</div>
                          <div class="dropdown-item" data-value="are they spanish?">Do they perform Spanish music?</div>
                          <div class="dropdown-item" data-value="do they perform pop music?">Do they perform pop music?</div>
                          <div class="dropdown-item" data-value="do they perform rap music?">Do they perform rap music?</div>
                          <div class="dropdown-item" data-value="do they perform R&B music?">Do they perform R&B music?</div>
                          <div class="dropdown-item" data-value="do they perform rock music?">Do they perform rock music?</div>
                          <div class="dropdown-item" data-value="do they perform country music?">Do they perform country music?</div>
                          <div class="dropdown-item" data-value="do they perform jazz music?">Do they perform jazz music?</div>
                          <div class="dropdown-item" data-value="do they perform party music?">Do they perform party music?</div>
                          <div class="dropdown-item" data-value="do they perform sad music?">Do they perform sad music?</div>
                        </details>
  
                      <!-- Career and Popularity Questions Section -->
                      <details class="dropdown-group">
                          <summary>Career and Popularity Questions<i class="fas fa-chevron-down toggle-icon"></i></summary>
                          <div class="dropdown-item" data-value="are they also an actor?">Are they also an actor?</div>
                          <div class="dropdown-item" data-value="disney or nick?">Were they ever on Disney Channel or Nickelodeon?</div>
                          <div class="dropdown-item" data-value="singing competition?">Have they ever competed in a TV Singing Competition?</div>
                          <div class="dropdown-item" data-value="have they won a grammy?">Have they ever won a Grammy?</div>
                          <div class="dropdown-item" data-value="super bowl?">Have they ever performed at a Super Bowl Halftime Show?</div>
                          <div class="dropdown-item" data-value="coachella?">Have they ever performed at Coachella?</div>
                          <div class="dropdown-item" data-value="song over one billion streams?">Do they have song(s) with over 1 Billion Spotify streams?</div>
                          <div class="dropdown-item" data-value="do they have more than 10M TikTok followers?">Do they have more than 10M TikTok followers?</div>
                          <div class="dropdown-item" data-value="do they have more than 10M Instagram followers?">Do they have more than 10M Instagram followers?</div>
                          <div class="dropdown-item" data-value="do they have more than 20M listeners?">Do they have more than 20M monthly Spotify listeners?</div>
                          <div class="dropdown-item" data-value="do they have more than 50M listeners?">Do they have more than 50M monthly Spotify listeners?</div>
                          <div class="dropdown-item" data-value="were they ever in a band?">Are/were they ever in a band?</div>
                        </details>
  
                      <!-- Name and Appearance Questions Section -->
                      <details class="dropdown-group">
                          <summary>Name and Appearance Questions<i class="fas fa-chevron-down toggle-icon"></i></summary>
                          <div class="dropdown-item" data-value="do they have dark hair?">Do they have black or brown hair?</div>
                          <div class="dropdown-item" data-value="do they have blond hair?">Do they have blond hair?</div>
                          <div class="dropdown-item" data-value="over 5.5 feet tall?">Are they over 5 1/2 feet tall?</div>
                          <div class="dropdown-item" data-value="over 6 feet tall?">Are they over 6 feet tall?</div>
                          <div class="dropdown-item" data-value="do they have tattoos?">Do they have visible tattoos?</div>
                          <div class="dropdown-item" data-value="do they wear glasses?">Do they wear glasses?</div>
                          <div class="dropdown-item" data-value="do they go by their birth name?">Do they go by their birth name?</div>
                          <div class="dropdown-item" data-value="do they go by one word?">Do they go by one word?</div>
                          <div class="dropdown-item" data-value="do they go by two words?">Do they go by two words?</div>
                          <div class="dropdown-item" data-value="do they have a common first name?">Do they have a common first name?</div>
                          <div class="dropdown-item" data-value="name starts A-M?">Does their name starts with a letter A-M?</div>
                        </details>
        </div>
      </div>
      <div class="button-group">
        <!-- Give the Ask Question button a special class -->
        <button class="cta-button ask-question" onclick="askQuestion()">Ask Question</button>
        <button class="cta-button" onclick="openGuessModal()">Guess the Singer</button>
      </div>
    </div>

    <!-- Answer Display -->
    <div class="answer-display" id="answerDisplay"></div>

    <!-- Hint Container -->
    <div class="hint-container" id="hintContainer">
      <!-- Begin with a section labeled "Hint Locked" -->
      <div id="hintBox-1" class="hint-box locked" data-revealed="false">
        <i class="fas fa-lock"></i> Hint Locked
      </div>
    </div>
  </main>

  <!-- Modal for Artist Guess -->
  <div id="guessModal" class="modal">
    <div class="modal-content">
      <h2>Guess the Artist</h2>
      <div class="autocomplete-container">
        <input type="text" id="guessInput" placeholder="Enter artist's name" autocomplete="off" />
        <ul id="autocomplete-list"></ul>
      </div>
      
        <button class="submit-btn" onclick="submitGuess()">Submit</button>
        <button class="cancel-btn" onclick="closeGuessModal()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Celebration Popup -->
  <div id="celebration-popup" class="celebration-popup">
    <div class="popup-content">
      <button class="close-popup" id="close-celebration-popup">&times;</button>
      <h2>Congratulations! 🎉</h2>
      <p>You correctly guessed <strong id="correct-artist-name">Girl in Red</strong>!</p>
      <img src="../images/girlinred.png" alt="Celebration Image" style="max-width:100%; border-radius:8px; margin:15px 0;">
      <p>Questions used: <span id="questions-used-popup">0</span></p>
      <p>Hints used: <span id="hints-used-popup">0</span></p>
      <p id="celebration-time" style="font-size: 1.2rem; font-weight: bold; margin: 10px 0;">Time to Guess: 0m 0s</p>
      <div class="celebration-buttons">
        <button id="share-result-button" class="share-button">Share with Friends!</button>
        <button id="enter-raffle-button" class="discord-button">Join Discord</button>
      </div>
    </div>
  </div>

<!-- Failure Popup -->
<div id="failure-popup" class="celebration-popup">
    <div class="popup-content">
      <button class="close-popup" id="close-failure-popup">&times;</button>
      <h2>Game Over!</h2>
      <p>Today's singer was <strong id="correct-artist-name-failure">Girl in Red</strong>!</p>
      <img src="../images/girlinred.png" alt="Celebration Image" style="max-width:100%; border-radius:8px; margin:15px 0;">
      <p>Questions used: <span id="failure-questions-used">0</span></p>
      <p>Hints used: <span id="failure-hints-used">0</span></p>      
      <div class="celebration-buttons">
        <button id="share-result-button-failure" class="share-button">Share with Friends!</button>
        <button id="enter-raffle-button-failure" class="discord-button">Join Discord</button>
      </div>
    </div>
  </div>
  
  
  <!-- Footer -->
  <footer class="footer">
    &copy; 2024 Colby Martel | 
    <a href="https://www.instagram.com/colbymartel19/" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
    <a href="https://www.youtube.com/ColbyMartel" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
    <a href="https://www.tiktok.com/@ColbyMartel" target="_blank" title="TikTok"><i class="fab fa-tiktok"></i></a>
    <a href="https://forms.gle/8UoyYgQNeD78Feq48" target="_blank" title="Join Discord"><i class="fab fa-discord"></i></a>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Predefined question responses
      const responses = {
        // General Questions
  "is this a male artist?": "No, the mystery artist is not male.",
  "is this a female artist?": "Yes, the mystery artist is female.",
  "are they still alive?": "Yes, they are still alive.",
  "are they over 30 years old?": "No, they are under 30 years old.",
  "are they over 40 years old?": "No, they are not over 40 years old.",
  "are they over 50 years old?": "No, they are not over 50 years old.",
  "debut before 2000?": "No, they debuted long after 2000.",
  "debut before 2010?": "No, they began releasing music after 2010.",
  "debut before 2020?": "Yes, they debuted before 2020.",
  "album release in last 2 years?": "Yes, they have released a new album in the last 2 years.",
  "are they touring?": "No, they are not touring at the moment.",
  "are they married?": "No, they are not married.",
  "divorced?": "No, they have never been married.",
  "LGBTQ?": "Yes, they openly identify as part of the LGBTQ+ community.",

  // Geographic Questions
  "are they from north america?": "No, they were not born in North America.",
  "are they from the united states?": "No, they were not born in the United States.",
  "are they from canada?": "No, they were not born in Canada.",
  "are they from europe?": "Yes, they were born in Europe.",
  "are they from asia?": "No, they were not born in Asia.",
  "are they from south america?": "No, they were not born in South America.",
  "are they from australia?": "No, they were not born in Australia.",
  "are they from aftrica?": "No, they were not born in Africa.",

  // Background Questions
  "are they of african descent?": "No, they are not of African descent.",
  "are they of european descent?": "Yes, they are of European descent.",
  "are they of latin american descent?": "No, they are not of Latin American descent.",
  "are they of asian descent?": "No, they are not of Asian descent.",
  "are they of mixed ethnicity?": "No, they are primarily Norwegian.",

  // Music Style Questions
  "different languages?": "No, they primarily perform in English.",
  "are they spanish?": "No, they do not primarily perform Spanish music.",
  "do they perform pop music?": "Yes, their sound is best described as indie pop.",
  "do they perform rap music?": "No, they do not perform rap music.",
  "do they perform R&B music?": "No, they do not perform R&B.",
  "do they perform rock music?": "No, but some tracks feature rock influences.",
  "do they perform country music?": "No, they do not perform country music.",
  "do they perform jazz music?": "No, they do not perform jazz music.",
  "do they perform party music?": "No, some songs are upbeat, though their music often has an introspective feel.",
  "do they perform sad music?": "Yes, many of their songs explore emotional and introspective themes.",

  // Career and Popularity Questions
  "are they also an actor?": "No, they are not also an actor.",
  "disney or nick?": "No, they have not been featured on Disney Channel or Nickelodeon.",
  "singing competition?": "No, they did not come from a TV singing competition.",
  "have they won a grammy?": "No, they have not yet won a Grammy Award.",
  "super bowl?": "No, they have not performed at a Super Bowl Halftime Show.",
  "coachella?": "Yes, they have performed at Coachella.",
  "song over one billion streams?": "Yes, one of their songs has reached one billion streams.",
  "do they have more than 10M TikTok followers?": "No, they do not have over 10M TikTok followers.",
  "do they have more than 10M Instagram followers?": "No, they do not have over 10M Instagram followers.",
  "do they have more than 20M listeners?": "No, they currently do not have over 20M monthly Spotify listeners.",
  "do they have more than 50M listeners?": "No, they currently do not have over 50M monthly Spotify listeners.",
  "were they ever in a band?": "No, they have always been a solo artist.",

  // Name and Appearance Questions
  "do they have dark hair?": "Sometimes their hair is darker!.",
  "do they have blond hair?": "Yes, they typically do have blond hair.",
  "over 5.5 feet tall?": "Yes, they are over 5.5 feet tall.",
  "over 6 feet tall?": "No, they are not over 6 feet tall.",
  "do they have tattoos?": "Yes, they have a few tattoos.",
  "do they wear glasses?": "No, they are not known for wearing glasses.",
  "do they go by their birth name?": "No, they perform under a stage name.",
  "do they go by one word?": "No, their name consists of more than one word.",
  "do they go by two words?": "No, they do not go by two words.",
  "do they have a common first name?": "No, their stage name is not common.",
  "name starts A-M?": "Yes, their name starts with a letter between A and M."
};

      // Hints
      const hintThresholds = [4, 8, 12];
      const hintsArray = [
        "Hint 1: Their most famous song is about falling in love.",
        "Hint 2: She was born in Norway.",
        "Hint 3: Her stage name is three words, including a color she is 'in' often."
      ];
      const maxQuestions = 15;
      let questionsAsked = 0;
      let guessCount = 0;
      let selectedValue = "";
      let selectedElement = null;
      let startTime = new Date();
      let gameEnded = false; // track game status

      function getHintsUsed() {
        return document.querySelectorAll(".hint-box.unlocked[data-revealed='true']").length;
      }

      // Hint container
      const hintContainer = document.getElementById("hintContainer");

      // Setup initial hint box click (for hintBox-1)
      const initialHintBox = document.getElementById("hintBox-1");
      initialHintBox.addEventListener("click", function() {
        if (this.classList.contains("unlocked") && this.dataset.revealed === "false") {
          revealHint(this, 0);
        }
      });

      // Update progress bar and hint boxes
      function updateProgressBar() {
        const progressText = document.getElementById("questionsProgressText");
        const progressBar = document.getElementById("questionsProgressBar");
        progressText.textContent = `Questions Asked: ${questionsAsked} of ${maxQuestions}`;
        progressBar.style.width = (questionsAsked / maxQuestions) * 100 + "%";
        
        // When 14 questions are reached, open the guess modal.
        if (questionsAsked === 14) {
          const answerDisplay = document.getElementById("answerDisplay");
          answerDisplay.textContent = "Only one more question! Make a final guess!";
          openGuessModal();
        }
        
        // Unlock hints as needed.
        if (questionsAsked >= hintThresholds[0]) {
          unlockHintBox("hintBox-1", 0);
          if (!document.getElementById("hintBox-2")) {
            createHintBox(2);
          }
        }
        hintThresholds.slice(1).forEach((threshold, idx) => {
          if (questionsAsked >= threshold) {
            let boxId = "hintBox-" + (idx + 2);
            let box = document.getElementById(boxId);
            if (box && box.classList.contains("locked")) {
              unlockHintBox(boxId, idx + 1);
              if (idx < hintThresholds.length - 1 && !document.getElementById("hintBox-" + (idx + 3))) {
                createHintBox(idx + 3);
              }
            }
          }
        });
        if (questionsAsked >= maxQuestions) {
          if (!document.getElementById("hintBox-3")) {
            createHintBox(3);
          } else {
            unlockHintBox("hintBox-3", 2);
          }
        }
        reorderHintBoxes();
      }

      // Create a new locked hint box
      function createHintBox(hintNumber) {
        const box = document.createElement("div");
        box.id = "hintBox-" + hintNumber;
        box.className = "hint-box locked";
        box.dataset.revealed = "false";
        box.innerHTML = "Hint " + hintNumber + " Locked";
        box.addEventListener("click", function() {
          if (hintNumber > 1) {
            const hint1 = document.getElementById("hintBox-1");
            if (!hint1 || hint1.dataset.revealed !== "true") {
              return;
            }
          }
          if (hintNumber === 3) {
            const hint2 = document.getElementById("hintBox-2");
            if (!hint2 || hint2.dataset.revealed !== "true") {
              return;
            }
          }
          if (box.classList.contains("unlocked") && box.dataset.revealed === "false") {
            revealHint(box, hintNumber - 1);
          }
        });
        hintContainer.appendChild(box);
      }

      // Unlock a hint box
      function unlockHintBox(boxId, idx) {
        let box = document.getElementById(boxId);
        if (box && box.classList.contains("locked")) {
          if (boxId === "hintBox-4") {
            box.style.display = "none";
            return;
          }
          box.classList.remove("locked");
          box.classList.add("unlocked");
          box.innerHTML = "<i class='fas fa-unlock'></i> Hint Unlocked! (Click to reveal)";
          box.dataset.revealed = "false";
          box.style.display = "";
        }
      }

      // Reorder hint boxes so unlocked ones appear first.
      function reorderHintBoxes() {
        let boxes = Array.from(hintContainer.children);
        boxes.sort((a, b) => {
          const aUnlocked = a.classList.contains("unlocked");
          const bUnlocked = b.classList.contains("unlocked");
          if (aUnlocked && !bUnlocked) return -1;
          if (!aUnlocked && bUnlocked) return 1;
          let aNum = parseInt(a.id.replace("hintBox-", ""));
          let bNum = parseInt(b.id.replace("hintBox-", ""));
          return aNum - bNum;
        });
        boxes.forEach(box => hintContainer.appendChild(box));
      }

      // Reveal a hint.
      function revealHint(box, idx) {
        if (box.dataset.revealed === "false") {
          box.innerHTML = "<i class='fas fa-lightbulb'></i> " + hintsArray[idx];
          box.dataset.revealed = "true";
          if (idx < hintsArray.length - 1 && !document.getElementById("hintBox-" + (idx + 2))) {
            createHintBox(idx + 2);
          }
          reorderHintBoxes();
        }
      }

      // Custom dropdown interactions.
      const customDropdown = document.getElementById("customDropdown");
      const dropdownHeader = document.getElementById("dropdownHeader");
      customDropdown.addEventListener("click", function(e) {
        if (e.target.closest(".dropdown-header")) {
          customDropdown.classList.toggle("active");
        }
      });
      document.querySelectorAll("details summary").forEach(summary => {
        summary.addEventListener("click", function(e) { e.stopPropagation(); });
      });
      document.querySelectorAll(".dropdown-item").forEach(item => {
        item.addEventListener("click", function(e) {
          if (this.classList.contains("asked")) return;
          e.stopPropagation();
          selectedValue = this.getAttribute("data-value");
          selectedElement = this;
          dropdownHeader.innerHTML = this.textContent + " <i class='fas fa-chevron-down'></i>";
          customDropdown.classList.remove("active");
        });
      });

      // Show failure popup (Game Over). Only disable the Ask Question button.
      function showFailure() {
  // Update counts for failure popup using unique IDs
  document.getElementById("failure-questions-used").textContent = questionsAsked;
  document.getElementById("failure-hints-used").textContent = getHintsUsed();

  const failurePopup = document.getElementById("failure-popup");
  failurePopup.style.display = "flex";
  setTimeout(() => {
    failurePopup.classList.add("show");
  }, 10);
  const askQuestionBtn = document.querySelector(".cta-button.ask-question");
  if (askQuestionBtn) {
    askQuestionBtn.disabled = true;
  }
}


      // Ask Question function.
      window.askQuestion = function() {
        // If game is over or max questions reached, do nothing.
        if (gameEnded || questionsAsked >= maxQuestions) {
          if (!gameEnded) {
            gameEnded = true;
            showFailure();
          }
          return;
        }
        const answerDisplay = document.getElementById("answerDisplay");
        if (!selectedValue) {
          answerDisplay.textContent = "Please select a question.";
          return;
        }
        // Increment question count and update progress.
        questionsAsked++;
        updateProgressBar();
        const responseText = responses[selectedValue] || "Sorry, no answer available.";
        answerDisplay.textContent = responseText;
        if (responseText.trim().toLowerCase().startsWith("yes")) {
          answerDisplay.style.borderColor = "green";
        } else if (responseText.trim().toLowerCase().startsWith("no")) {
          answerDisplay.style.borderColor = "red";
        } else {
          answerDisplay.style.borderColor = "#ddd";
        }
        if (selectedElement) {
          selectedElement.classList.add("asked");
          if (responseText.trim().toLowerCase().startsWith("yes")) {
            selectedElement.innerHTML += " <span style='color:green;'>✅</span>";
          } else if (responseText.trim().toLowerCase().startsWith("no")) {
            selectedElement.innerHTML += " <span style='color:red;'>❌</span>";
          }
        }
        selectedValue = "";
        selectedElement = null;
        dropdownHeader.innerHTML = "Select a question to start... <i class='fas fa-chevron-down'></i>";
        // If after processing, max questions are reached, end game.
        if (questionsAsked >= maxQuestions) {
          gameEnded = true;
          showFailure();
        }
      };

      // Submit Guess function.
      window.submitGuess = function() {
        // Do not block guess modal—guesses can be made anytime.
        const guessInput = document.getElementById("guessInput");
        const guess = guessInput.value.trim().toLowerCase();
        // Count guess as a question.
        questionsAsked++;
        guessCount++;
        updateProgressBar();
        closeGuessModal();
        guessInput.value = "";
        const correctAnswer = "girl in red";
        if (guess === correctAnswer) {
          showCelebration();
          return;
        } else {
          alert("That's not correct. Try asking more questions or guess again!");
        }
        if (questionsAsked >= maxQuestions) {
          gameEnded = true;
          showFailure();
        }
      };
      document.getElementById("enter-raffle-button").addEventListener("click", function() {
  window.location.href = "https://forms.gle/8UoyYgQNeD78Feq48"; // Replace with your actual Google Form URL
});

      function showCelebration() {
        gameEnded = true;
        const elapsedMs = new Date() - startTime;
        const minutes = Math.floor(elapsedMs / 60000);
        const seconds = Math.floor((elapsedMs % 60000) / 1000);
        const timeText = `${minutes}m ${seconds}s`;
        document.getElementById("correct-artist-name").textContent = "Girl in Red";
        document.getElementById("questions-used-popup").textContent = questionsAsked;
        document.getElementById("hints-used-popup").textContent = getHintsUsed();
        document.getElementById("celebration-time").textContent = "Time to Guess: " + timeText;
        const popup = document.getElementById("celebration-popup");
        popup.style.display = "flex";
        setTimeout(() => {
          popup.classList.add("show");
        }, 10);
      }

      // Close Celebration Popup
      document.getElementById("close-celebration-popup").addEventListener("click", function() {
        const popup = document.getElementById("celebration-popup");
        popup.classList.remove("show");
        setTimeout(() => {
          popup.style.display = "none";
        }, 500);
      });
      document.getElementById("share-result-button-failure").addEventListener("click", function() {
  const questionCount = questionsAsked;
  const hintCount = getHintsUsed();
  const storedResults = `I couldn't guess today's mystery singer in ${questionCount} questions and ${hintCount} hints! 🌟 Try it at guessthesinger.com`;
  copyTextToClipboard(storedResults)
    .then(() => {
      alert('Results copied to clipboard!');
    })
    .catch(err => {
      console.error('Failed to copy text: ', err);
    });
});

document.getElementById("enter-raffle-button-failure").addEventListener("click", function() {
  window.location.href = "https://forms.gle/8UoyYgQNeD78Feq48"; // Use your actual URL
});

      // Close Failure Popup
      document.getElementById("close-failure-popup").addEventListener("click", function() {
        const failurePopup = document.getElementById("failure-popup");
        failurePopup.classList.remove("show");
        setTimeout(() => {
          failurePopup.style.display = "none";
        }, 500);
      });


      // Autocomplete for Guess Modal.
      const inputField = document.getElementById("guessInput");
      const autocompleteList = document.getElementById("autocomplete-list");
      const artists = [
      "Taylor Swift", "Ariana Grande", "Drake", "Beyoncé", "Ed Sheeran", "Kehlani", "Polo G",
    "Billie Eilish", "Harry Styles", "Bruno Mars", "Rihanna", "The Weeknd", "Lil Mosey",
    "Post Malone", "Lady Gaga", "Doja Cat", "Kanye West", "Justin Bieber", "Whitney Houston",
    "Katy Perry", "Sabrina Carpenter", "Selena Gomez", "Dua Lipa", "Shawn Mendes", "blackbear",
    "Halsey", "Lizzo", "Olivia Rodrigo", "Lil Nas X", "Sam Smith", "Forrest Frank", "Chappell Roan",
    "Bad Bunny", "SZA", "Nicki Minaj", "Miley Cyrus", "Frank Ocean", "Phil Collins", "Prince", "Lauv",
    "Cardi B", "Travis Scott", "Maroon 5", "Adele", "Lana Del Rey", "NF", "Phoebe Bridgers", "Janet Jackson",
    "Khalid", "Imagine Dragons", "John Legend", "Charlie Puth", "Camila Cabello", "Central Cee",
    "Ellie Goulding", "ZAYN", "Meghan Trainor", "Jason Derulo", "Chris Brown", "6ix9ine", "Bryson Tiller",
    "Demi Lovato", "Niall Horan", "Pitbull", "P!nk", "Juice WRLD", "Ruth B.", "Aretha Franklin",
    "Coldplay", "Sia", "Kendrick Lamar", "Eminem", "Mariah Carey", "Ice Cube", "Rex Orange County",
    "David Guetta", "ROSÉ", "Shakira", "Elton John", "Calvin Harris", "Lorde", "Tove Lo",
    "J Balvin", "KAROL G", "Marshmello", "Arctic Monkeys", "Future", "Melanie Martinez",
    "Queen", "Linkin Park", "Wham!", "Rauw Alejandro", "Playboi Carti", "2Pac", "David Kushner",
    "Daddy Yankee", "Tyler, The Creator", "One Direction", "GloRilla", "Adam Levine", "Don Toliver", "OneRepublic",
    "Metro Boomin", "Michael Bublé", "Lil Wayne", "Hozier", "Benson Boone", "Joji", "Chelsea Cutler",
    "21 Savage", "Teddy Swims", "Gwen Stefani", "The Chainsmokers", "Maluma", "Britney Spears", "Conan Gray",
    "Peso Pluma", "The Kid LAROI", "Brenda Lee", "Kelly Clarkson", "Noah Kahan", "beabadoobee", "Morgan Wallen",
    "Michael Jackson", "The Neighbourhood", "Myke Towers", "Feid", "Kesha", "Rod Wave", "Carrie Underwood",
    "Frank Sinatra", "Gracie Abrams", "XXXTENTACION", "Arijit Singh", "Mac Miller", "Iggy Azalea", "Mel B",
    "Shreya Ghoshal", "Tate McRae", "Pritam", "Zach Bryan", "Lauren Spencer-Smith", "Girl in Red",
    "Dean Martin", "USHER", "Elvis Presley", "Ozuna", "Alan Walker", "Black Eyed Peas",
    "Bobby Helms", "Daniel Caesar", "Justin Timberlake", "Gunna", "Childish Gambino",
    "Madonna", "A.R. Rahman", "JENNIE", "Kali Uchis", "Tiësto", "Anitta", "50 Cent",
    "Bebe Rexha", "Ava Max", "Ne-Yo", "J. Cole", "Tyla",
    "Cris Mj", "A$AP Rocky", "James Arthur", "Ty Dolla $ign", "Alec Benjamin", "Swae Lee"
];
      inputField.addEventListener("input", () => {
        const query = inputField.value.trim().toLowerCase();
        autocompleteList.innerHTML = "";
        if (query.length >= 3) {
          const matches = artists.filter(name => name.toLowerCase().includes(query));
          if (matches.length > 0) {
            matches.forEach(match => {
              const li = document.createElement("li");
              li.textContent = match;
              li.addEventListener("click", () => {
                inputField.value = match;
                autocompleteList.innerHTML = "";
                autocompleteList.style.display = "none";
              });
              autocompleteList.appendChild(li);
            });
            autocompleteList.style.display = "block";
          } else {
            autocompleteList.style.display = "none";
          }
        } else {
          autocompleteList.style.display = "none";
        }
      });
      document.addEventListener("click", (e) => {
        if (!autocompleteList.contains(e.target) && e.target !== inputField) {
          autocompleteList.style.display = "none";
        }
      });
      // Share buttons (unchanged)
      function copyTextToClipboard(text) {
  if (navigator.clipboard && window.isSecureContext) {
    // Use the Clipboard API if available in a secure context.
    return navigator.clipboard.writeText(text);
  } else {
    // Fallback for older browsers/insecure contexts.
    const textArea = document.createElement("textarea");
    textArea.value = text;
    // Place the textarea off-screen.
    textArea.style.position = "fixed";
    textArea.style.top = "-9999px";
    textArea.style.left = "-9999px";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    
    try {
      const successful = document.execCommand('copy');
      document.body.removeChild(textArea);
      return successful ? Promise.resolve() : Promise.reject('Copy command unsuccessful');
    } catch (err) {
      document.body.removeChild(textArea);
      return Promise.reject(err);
    }
  }
}

// Then change your share event listener to use this function:
document.getElementById("share-result-button").addEventListener("click", function() {
  const questionCount = questionsAsked;
  const hintCount = getHintsUsed();
  const storedResults = `I guessed today's mystery singer in ${questionCount} questions and ${hintCount} hints! 🌟 Try it at guessthesinger.com`;
  copyTextToClipboard(storedResults)
    .then(() => {
      alert('Results copied to clipboard!');
    })
    .catch(err => {
      console.error('Failed to copy text: ', err);
    });
});

    });
    
    // Simple function to open the guess modal.
    function openGuessModal() {
      const modal = document.getElementById("guessModal");
      modal.style.display = "block";
    }
    // Close guess modal.
    function closeGuessModal() {
      const modal = document.getElementById("guessModal");
      modal.style.display = "none";
    }
  </script>

</body>
</html>
