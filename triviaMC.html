<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Guess The Singer Trivia: Multiple Choice Music Trivia Quiz">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guess The Singer Trivia</title>
  <link rel="icon" href="/favicon.ico">
  <style>
    /* General Reset */
  /* Reset */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  background: radial-gradient(circle at top, #1e3a5f, #0f1c2e);
  color: #fff;
  padding-bottom: 40px;
  min-height: 100vh;
}

/* Header */
header {
  background: linear-gradient(135deg, #3b7bbf, #234d7d);
  padding: 25px 0;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
}

header .logo img {
  width: 50%;
  max-width: 80%;
  margin: 0 auto;
  display: block;
}

/* Start Screen */
.start-container {
  max-width: 600px;
  margin: 80px auto 0;
  background: #254a6d;
  padding: 30px;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.15);
}

.start-container p {
  font-size: 1.2rem;
  margin-bottom: 15px;
  color: #fff;
}

.login-input {
  width: 80%;
  padding: 12px;
  font-size: 1.1rem;
  border: 2px solid #4682b4;
  border-radius: 10px;
  margin-bottom: 20px;
}

/* Buttons */
.start-btn, .option {
  padding: 12px 24px;
  font-size: 1.1rem;
  background: #27ae60;
  border: none;
  color: #fff;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  margin: 8px;
  transition: all 0.3s ease;
  box-shadow: 0 0 12px rgba(255, 255, 255, 0.1);
}

.start-btn:hover, .option:hover {
  background: #1e8449;
  transform: scale(1.05);
}

/* Quiz Container */
.quiz-container {
  display: none;
  max-width: 600px;
  margin: 40px auto;
  background: #254a6d;
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 0 25px rgba(255, 255, 255, 0.1);
  text-align: center;
}

.progress {
  font-size: 1.3rem;
  font-weight: bold;
  color: #f1c40f;
  margin-bottom: 10px;
}

.timer {
  font-size: 1.6rem;
  font-weight: bold;
  color: #fff;
  background: linear-gradient(135deg, #3b7bbf, #254a6d);
  padding: 14px 28px;
  border-radius: 40px;
  margin-bottom: 25px;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.2),
              0 0 30px rgba(49, 95, 133, 0.4);
  font-family: 'Courier New', Courier, monospace;
  letter-spacing: 1px;
  text-shadow: 1px 1px 2px #000;
}

/* Question */
.question-text {
  font-size: 1.6rem;
  margin-bottom: 20px;
  color: #ffffff;
  text-shadow: 1px 1px 3px #000;
}

/* Multiple Choice Options */
.options {
  display: flex;
  flex-direction: column;
  gap: 5px;
  margin-bottom: 20px;
}

.option {
  background-color: #3b7bbf;
  border: 3px solid white;
  font-size: 1.2rem;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.option:hover {
  background-color: #234d7d;
}

/* Result */
.result {
  font-size: 1.4rem;
  color: #00ffcc;
  margin-top: 20px;
}

#rulesOverlay {
  animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
  #rulesOverlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: fadeIn 0.4s ease;
  }

  #rulesBox {
    background: #1e3a5f;
    color: white;
    padding: 40px 30px;
    border-radius: 20px;
    max-width: 600px;
    width: 100%;
    text-align: center;
    box-shadow: 0 0 30px rgba(255,255,255,0.15);
    font-family: 'Poppins', sans-serif;
  }

  #rulesBox ul {
    list-style: none;
    padding: 0;
    margin-bottom: 25px;
    text-align: left;
    font-size: 1rem;
  }

  #rulesBox li {
    margin-bottom: 12px;
  }

  #rulesBox img {
    width: 100%;
    max-width: 300px;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(255,255,255,0.2);
    margin: 20px 0 10px;
  }

  #rulesBox button {
    margin-top: 15px;
    padding: 14px 30px;
    font-size: 1.1rem;
    background: #27ae60;
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
  }

  @media (max-width: 480px) {
  #rulesBox {
    padding: 20px 15px;
    font-size: 0.95rem;
    max-height: 90vh;
    overflow-y: auto;
  }

  #rulesBox h2 {
    font-size: 1.3rem;
    line-height: 1.4;
  }

  #rulesBox img {
    max-width: 200px;
    margin: 10px 0;
  }

  #rulesBox ul {
    font-size: 0.95rem;
    line-height: 1.4;
    margin-bottom: 15px;
  }

  #rulesBox button {
    font-size: 1rem;
    padding: 12px 20px;
    width: 100%;
    max-width: 250px;
  }

  }
  </style>
</head>
<body>
  <header class="header">
    <div class="logo">
      <img src="images/SingerLogo.png" alt="Guess the Singer Logo" loading="lazy">
    </div>
  </header>

  <!-- Start/Login Screen -->
  <div class="start-container" id="startContainer">
    <p style="margin-bottom: 10px; font-size: 1.2rem; color: #4682b4;">
    </p>
    <input type="text" id="userName" class="login-input" placeholder="Enter your name">
    <button class="start-btn" onclick="startQuiz()">Start Quiz</button>
  </div>

  <!-- Quiz Container -->
  <div class="quiz-container" id="quizContainer">
    <div class="progress" id="progressText">Question 1 of 20</div>
    <div class="timer" id="timerText">02:00</div>
    <div class="question-text" id="questionText">Question will appear here</div>
    <div class="options" id="options">
      <!-- Option buttons will be inserted here dynamically -->
    </div>
    <div class="result" id="resultText"></div>
  </div>
  
<div id="rulesOverlay">
  <div id="rulesBox">
    <h2 style="color: #f1c40f; margin-bottom: 20px;">üéß How to Play</h2>

    <ul>
      <li>üß† <strong>Pick the Best Option:</strong> Choose the answer that you think is correct from the given choices.</li>
      <li>‚è±Ô∏è <strong>Beat the Clock:</strong> You have <strong>2 minutes</strong> to guess as many as possible.</li>
      <li>‚è≠Ô∏è <strong>No Skips!</strong> You must guess until the correct answer is selected. Wrong answers will take away 5 seconds.</li>
    </ul>
    <ul>
    <button onclick="closeRules()">üöÄ OK, Let‚Äôs Go!</button>
  </div>
</div>
  <!-- Firebase SDKs (for quiz session logging) -->
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
  <script>
    // Firebase configuration (replace with your own config if needed)
    const firebaseConfig = {
      apiKey: "AIzaSyD36qSJ8YAPc3A4FL9jlBGlpiWwj530SPQ",
      authDomain: "guessthesinger10.firebaseapp.com",
      databaseURL: "https://guessthesinger10.firebaseio.com",
      projectId: "guessthesinger10",
      storageBucket: "guessthesinger10.firebasestorage.app",
      messagingSenderId: "97201023235",
      appId: "1:97201023235:web:ab111d9acb43ef7d4be136",
      measurementId: "G-3R005HTKEW"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    
    // --- Multiple-choice trivia question set (20 questions)
    const triviaQuestions = [
      {
        question: "Which artist released the hit single 'Blinding Lights'?",
        options: ["The Weeknd", "Drake", "Post Malone", "Travis Scott"],
        correctAnswer: "The Weeknd"
      },
      {
        question: "Who is known as the 'King of Pop'?",
        options: ["Michael Jackson", "Elvis Presley", "Prince", "Freddie Mercury"],
        correctAnswer: "Michael Jackson"
      },
      {
        question: "Which band is famous for the song 'Bohemian Rhapsody'?",
        options: ["Queen", "The Beatles", "Nirvana", "Led Zeppelin"],
        correctAnswer: "Queen"
      },
      {
        question: "Which singer is known for the hit 'Rolling in the Deep'?",
        options: ["Adele", "Beyonc√©", "Rihanna", "Taylor Swift"],
        correctAnswer: "Adele"
      },
      {
        question: "Into which genre did Taylor Swift transition from country music?",
        options: ["Pop", "Rock", "Hip-Hop", "Electronic"],
        correctAnswer: "Pop"
      },
      {
        question: "Which band released the classic song 'Hey Jude'?",
        options: ["The Beatles", "Rolling Stones", "Queen", "The Who"],
        correctAnswer: "The Beatles"
      },
      {
        question: "Which rapper is known for the song 'Lose Yourself'?",
        options: ["Eminem", "Jay-Z", "Kanye West", "Lil Wayne"],
        correctAnswer: "Eminem"
      },
      {
        question: "Which band released the iconic 'Stairway to Heaven'?",
        options: ["Led Zeppelin", "AC/DC", "Aerosmith", "The Doors"],
        correctAnswer: "Led Zeppelin"
      },
      {
        question: "Who is often referred to as the 'Queen of Pop'?",
        options: ["Madonna", "Britney Spears", "Lady Gaga", "Rihanna"],
        correctAnswer: "Madonna"
      },
      {
        question: "Which artist released the album '25'?",
        options: ["Adele", "Taylor Swift", "Beyonc√©", "Rihanna"],
        correctAnswer: "Adele"
      },
      {
        question: "Which singer is nicknamed the 'Material Girl'?",
        options: ["Madonna", "Lady Gaga", "Britney Spears", "Christina Aguilera"],
        correctAnswer: "Madonna"
      },
      {
        question: "Which rock band is known for the song 'Hotel California'?",
        options: ["Eagles", "Fleetwood Mac", "The Doors", "The Rolling Stones"],
        correctAnswer: "Eagles"
      },
      {
        question: "Which album features Michael Jackson's hit 'Thriller'?",
        options: ["Thriller", "Bad", "Off the Wall", "Dangerous"],
        correctAnswer: "Thriller"
      },
      {
        question: "Which band is famous for 'Smells Like Teen Spirit'?",
        options: ["Nirvana", "Pearl Jam", "Soundgarden", "Foo Fighters"],
        correctAnswer: "Nirvana"
      },
      {
        question: "Which artist is known for the hit 'Uptown Funk'?",
        options: ["Bruno Mars", "Justin Timberlake", "Pharrell Williams", "Usher"],
        correctAnswer: "Bruno Mars"
      },
      {
        question: "Who sang the hit song 'Shape of You'?",
        options: ["Ed Sheeran", "Shawn Mendes", "Sam Smith", "Justin Bieber"],
        correctAnswer: "Ed Sheeran"
      },
      {
        question: "Which artist released the album 'Lemonade'?",
        options: ["Beyonc√©", "Rihanna", "Taylor Swift", "Ariana Grande"],
        correctAnswer: "Beyonc√©"
      },
      {
        question: "Which band is known for the song 'Sweet Child O' Mine'?",
        options: ["Guns N' Roses", "AC/DC", "Metallica", "Bon Jovi"],
        correctAnswer: "Guns N' Roses"
      },
      {
        question: "Who is often referred to as 'Queen Bey'?",
        options: ["Beyonc√©", "Rihanna", "Nicki Minaj", "Ariana Grande"],
        correctAnswer: "Beyonc√©"
      },
      {
        question: "Which artist is known for the song 'Bad Romance'?",
        options: ["Lady Gaga", "Katy Perry", "Rihanna", "Britney Spears"],
        correctAnswer: "Lady Gaga"
      }
    ];
    
    // --- Global Variables
    let currentQuestionIndex = 0;
    let correctCount = 0;
    let startTime = null;
    let timerInterval = null;
    
    // Total time (2 minutes)
    const totalTime = 120; // seconds
    
    // DOM Elements
    const progressText = document.getElementById("progressText");
    const timerText = document.getElementById("timerText");
    const questionText = document.getElementById("questionText");
    const optionsDiv = document.getElementById("options");
    const resultText = document.getElementById("resultText");
    
    // Shuffle function (Fisher-Yates)
    function shuffle(array) {
      const arr = array.slice();
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }
    
    // Start Quiz: Hide start container, show quiz container, start timer, load first question.
    function startQuiz() {
      const userName = document.getElementById("userName").value.trim();
      if (!userName) {
        alert("Please enter your name to start.");
        return;
      }
      
      // Optionally, log user and create quiz session using Firestore here...
      
      document.getElementById("startContainer").style.display = "none";
      document.getElementById("quizContainer").style.display = "block";
      startTime = new Date();
      startTimer();
      loadQuestion();
    }
    
    // Global variable for time remaining
    let timeRemaining = totalTime;
    
    function startTimer() {
      timerText.textContent = `${formatTime(timeRemaining)}`;
      timerInterval = setInterval(() => {
        timeRemaining--;
        timerText.textContent = `${formatTime(timeRemaining)}`;
        if (timeRemaining <= 0) {
          clearInterval(timerInterval);
          endQuiz();
        }
      }, 1000);
    }
    
    function handleAnswer(selectedOption) {
      const currentQ = triviaQuestions[currentQuestionIndex];
      if (selectedOption === currentQ.correctAnswer) {
        correctCount++;
        resultText.style.color = "white";
        resultText.textContent = "Correct!";
        currentQuestionIndex++;
        setTimeout(() => {
          loadQuestion();
        }, 1000);
      } else {
        resultText.style.color = "red";
        resultText.textContent = "Incorrect! 5 seconds penalty. Try again.";
        // Subtract 5 seconds from the global timeRemaining variable
        timeRemaining = Math.max(0, timeRemaining - 5);
        timerText.textContent = `Time left: ${formatTime(timeRemaining)}`;
        if (timeRemaining <= 0) {
          endQuiz();
        }
      }
    }
    
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }
    
    function loadQuestion() {
      if (currentQuestionIndex >= triviaQuestions.length) {
        endQuiz();
        return;
      }
      progressText.textContent = `Question ${currentQuestionIndex + 1} of ${triviaQuestions.length}`;
      const currentQ = triviaQuestions[currentQuestionIndex];
      questionText.textContent = currentQ.question;
      // Clear previous options
      optionsDiv.innerHTML = "";
      // Shuffle options before displaying
      const shuffledOptions = shuffle(currentQ.options);
      shuffledOptions.forEach(option => {
        const btn = document.createElement("button");
        btn.textContent = option;
        btn.classList.add("option");
        btn.addEventListener("click", () => handleAnswer(option));
        optionsDiv.appendChild(btn);
      });
      resultText.textContent = "";
    }
    
    function endQuiz() {
  clearInterval(timerInterval);
  const endTime = new Date();
  const timeTaken = Math.floor((endTime - startTime) / 1000);

  questionText.innerHTML = `<strong>Quiz Completed!</strong><br>You got ${correctCount} out of ${triviaQuestions.length} correct.`;
  optionsDiv.innerHTML = "";
  resultText.textContent = "";
  timerText.style.display = "none";
  progressText.style.display = "none";

  const userName = document.getElementById("userName").value.trim() || "Anonymous";

  // üî• Add a new record for each quiz attempt
  db.collection("quizSessions").add({
    userName: userName,
    correctCount: correctCount,
    timeTaken: timeTaken,
    createdAt: firebase.firestore.FieldValue.serverTimestamp()
  }).then(() => {
    console.log("Stats saved for leaderboard");
  }).catch((error) => {
    console.error("Error saving to leaderboard:", error);
  });
}

    function closeRules() {
  document.getElementById("rulesOverlay").style.display = "none";
}

  </script>
 

</body>
</html>
