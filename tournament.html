<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guess The Singer - Bracket Challenge</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      background: #0b3d6b;
      color: white;
      min-height: 100vh;
      padding: 20px;
      text-align: center;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 20px;
    }
    .bracket-container {
      display: flex;
      justify-content: center;
      flex-wrap: nowrap;
      overflow-x: auto;
    }
    .round-column {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      margin: 0 10px;
    }
    .matchup {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      background: #1E3D59;
      color: white;
      padding: 6px 10px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid transparent;
      width: 200px;
    }
    .matchup:hover {
      background: #2a5d85;
    }
    .matchup.selected {
      background: #28a745;
      border-color: #fff;
    }
    .matchup.eliminated {
      background: #888 !important;
      opacity: 0.6;
      pointer-events: none;
    }
    .artist-img {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #fff;
      margin-right: 8px;
    }
    .matchup span {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .placeholder {
      width: 200px;
      height: 48px;
      background: #1E3D59;
      border: 2px dashed #555;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #aaa;
      font-style: italic;
    }
    .mid-champion {
      margin-top: 40px;
      font-size: 1.4rem;
      padding: 10px;
      border: 2px solid white;
      border-radius: 10px;
      background: #fff;
      color: #0b3d6b;
      font-weight: bold;
    }
    button.submit-btn {
      margin-top: 40px;
      padding: 12px 30px;
      font-size: 1rem;
      border: none;
      background: #ffcc00;
      color: #000;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button.submit-btn:hover {
      background: #e6b800;
    }
  </style>
</head>
<body>
  <h1>Guess The Singer - Bracket Challenge</h1>
  <div class="bracket-container" id="bracket-container"></div>
  <div class="mid-champion" id="champion">CHAMPION</div>
  <button class="submit-btn" onclick="submitBracket()">Submit My Bracket</button>

  <script>
    const artistImages = name => `images/${name.toLowerCase().replace(/[^a-z0-9]/g, '')}.jpg`;

    const bracketData = [
      [ // Round 1: 32 matchups
        ["Taylor Swift", "Melanie Martinez"], ["J. Cole", "A$AP Rocky"], ["Ed Sheeran", "Luke Combs"],
        ["Travis Scott", "Kodak Black"], ["Bad Bunny", "Yeat"], ["Olivia Rodrigo", "Frank Ocean"],
        ["Billie Eilish", "Rosalía"], ["Pitbull", "Whitney Houston"],
        ["Noah Kahan", "Mary J. Blige"], ["Pritam", "50 Cent"], ["Justin Bieber", "Meghan Trainor"],
        ["Sabrina Carpenter", "Zach Bryan"], ["Drake", "Cher"], ["Harry Styles", "Don Toliver"],
        ["SZA", "Zara Larsson"], ["Shakira", "Mac Miller"],
        ["Teddy Swims", "Tove Lo"], ["Benson Boone", "Charli XCX"], ["Bruno Mars", "Stevie Wonder"],
        ["Gracie Abrams", "Juice WRLD"], ["Beyoncé", "Niall Horan"], ["Michael Jackson", "Daniel Caesar"],
        ["Kendrick Lamar", "Bruce Springsteen"], ["Adele", "Billy Joel"],
        ["Mitski", "Laufey"], ["Tyler, The Creator", "Gunna"], ["Lady Gaga", "Mac DeMarco"],
        ["Chris Brown", "Childish Gambino"], ["beabadoobee", "Lenny Kravitz"], ["Hozier", "Morgan Wallen"],
        ["The Weeknd", "Lauv"], ["Lana Del Rey", "Demi Lovato"]
      ], [], [], [], [], []
    ];

    function createMatchupNode(name, roundIndex, matchIndex, isWinner) {
      const div = document.createElement("div");
      div.className = "matchup";
      if (isWinner === false) div.classList.add("eliminated");
      div.innerHTML = `<span><img class='artist-img' src='${artistImages(name)}'>${name}</span>`;
      div.onclick = () => {
        const nextRound = roundIndex + 1;
        const nextMatchIndex = Math.floor(matchIndex / 2);

        bracketData[nextRound] = bracketData[nextRound] || [];
        bracketData[nextRound][nextMatchIndex] = bracketData[nextRound][nextMatchIndex] || ["", ""];

        if (matchIndex % 2 === 0) {
          bracketData[nextRound][nextMatchIndex][0] = name;
        } else {
          bracketData[nextRound][nextMatchIndex][1] = name;
        }

        renderBracket();
      };
      return div;
    }

    function createPlaceholder() {
      const p = document.createElement("div");
      p.className = "placeholder";
      p.innerText = "Winner advances here";
      return p;
    }

    function renderBracket() {
      const container = document.getElementById("bracket-container");
      container.innerHTML = "";

      for (let round = 0; round < bracketData.length; round++) {
        const column = document.createElement("div");
        column.className = "round-column";

        for (let match = 0; match < bracketData[round].length; match++) {
          const [name1, name2] = bracketData[round][match];

          const winner = bracketData[round + 1]?.[Math.floor(match / 2)]?.[match % 2 === 0 ? 0 : 1];
          const is1Winner = winner === name1;
          const is2Winner = winner === name2;

          if (name1) column.appendChild(createMatchupNode(name1, round, match * 2, is1Winner ? true : is2Winner ? false : null));
          if (name2) column.appendChild(createMatchupNode(name2, round, match * 2 + 1, is2Winner ? true : is1Winner ? false : null));

          if (round < bracketData.length - 1) {
            const hasWinner = is1Winner || is2Winner;
            if (hasWinner && winner) {
              column.appendChild(createMatchupNode(winner, round + 1, Math.floor(match / 2), null));
            } else {
              column.appendChild(createPlaceholder());
            }
          }
        }

        container.appendChild(column);
      }

      const final = bracketData[bracketData.length - 1][0];
      if (final && (final[0] || final[1])) {
        document.getElementById("champion").innerText = `CHAMPION: ${final[0] || final[1]}`;
      }
    }

    function submitBracket() {
      const final = bracketData[bracketData.length - 1][0];
      if (final && (final[0] || final[1])) {
        alert(`You chose ${final[0] || final[1]} as your champion!`);
      } else {
        alert("Please finish your bracket before submitting.");
      }
    }

    renderBracket();
  </script>
</body>
</html>
